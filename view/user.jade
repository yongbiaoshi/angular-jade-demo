extends _layout
append scripts
  script(type='text/javascript', src='/javascript/ctrls/user-ctrl.js')
append style

block content
  .container(ng-app='User')
    div(ng-controller='UserController as userCtrl').user-form-wrapper
      div: user-list
      - var list = [1,2,3,4];
        each i in list
          span= i
      form(name='userForm', novalidate, ng-submit="saveUser(userForm)", autocomplete='off')
        .form-group.has-feedback(ng-class="{'has-error': userForm.name.$invalid && userForm.name.$dirty, 'has-success': userForm.name.$valid && userForm.name.$dirty}")
          label(for='name') 用户名
          input(name='name', type='text', ng-model='user.name' minlength='6', maxlength='18', required).form-control
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.name.$valid && userForm.name.$dirty, 'glyphicon-remove': userForm.name.$invalid && userForm.name.$dirty}")
          //- p(ng-show='userForm.name.$invalid && userForm.name.$dirty') {{userForm.name.$invalid}} - msg:{{userForm.name.$error}}
          p.help-block(ng-show="userForm.name.$dirty && userForm.name.$error.required") 请输入用户名
          p.help-block(ng-show="userForm.name.$dirty && userForm.name.$error.minlength") 用户名最少6位
        .form-group.has-feedback(ng-class="{'has-error': userForm.email.$invalid && userForm.email.$dirty, 'has-success': userForm.email.$valid && userForm.email.$dirty}")
          label(for='email') 邮箱
          input(name='email', type='email', ng-model='user.email' maxlength='50' required).form-control
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.email.$valid && userForm.email.$dirty, 'glyphicon-remove': userForm.email.$invalid && userForm.email.$dirty}")
          //- p.help-block(ng-show='userForm.email.$invalid && userForm.email.$dirty') {{userForm.email.$invalid}} - msg:{{userForm.email.$error}}
          p.help-block(ng-show="userForm.email.$dirty && userForm.email.$error.required") 请输入邮箱地址
          p.help-block(ng-show="userForm.email.$dirty && userForm.email.$error.email") Email格式错误
        .form-group.has-feedback(ng-class="{'has-error': userForm.age.$invalid && userForm.age.$dirty, 'has-success': userForm.age.$valid && userForm.age.$dirty}")
          label(for='age') 年龄
          input.form-control(name='age', type='number', ng-model='user.age', required, max='100', min='18')
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.age.$valid && userForm.age.$dirty, 'glyphicon-remove': userForm.age.$invalid && userForm.age.$dirty}")
          p.help-block(ng-show="userForm.age.$dirty && userForm.age.$error.required") 请输入年龄
          p.help-block(ng-show="userForm.age.$dirty && userForm.age.$error.max") 年龄最大100
          p.help-block(ng-show="userForm.age.$dirty && userForm.age.$error.min") 年龄最小18
        .form-group.has-feedback(ng-class="{'has-error': userForm.password.$invalid && userForm.password.$dirty, 'has-success': userForm.password.$valid && userForm.password.$dirty}")
          label(for='password') 密码
          input(name='password', ng-model='user.password', type='password', minlength='6', maxlength='18' required).form-control
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.password.$valid && userForm.password.$dirty, 'glyphicon-remove': userForm.password.$invalid && userForm.password.$dirty}")
          p.help-block(ng-show='userForm.password.$invalid && userForm.password.$dirty') {{userForm.password.$invalid}} - msg:{{userForm.password.$error}}
          p.help-block(ng-show="userForm.password.$dirty && userForm.password.$error.required") 请输入密码
          p.help-block(ng-show="userForm.password.$dirty && userForm.password.$error.minlength") 密码最少6位
        .form-group.has-feedback(ng-class="{'has-error': userForm.country.$invalid && userForm.country.$dirty, 'has-success': userForm.country.$valid && userForm.country.$dirty}")
          label(for='country') 国家代码
          input.form-control(name='country', type='text', ng-model='user.country', ng-pattern='/[A-Z]{1,2}/', minlength='1', maxlength='2' required)
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.country.$valid && userForm.country.$dirty, 'glyphicon-remove': userForm.country.$invalid && userForm.country.$dirty}")
          p.help-block {{userForm.country.$error}}
          p.help-block(ng-show="userForm.country.$dirty && userForm.country.$error.required") 请输入国家代码
          p.help-block(ng-show="userForm.country.$dirty && userForm.country.$error.pattern") 请输入正确的国家代码
        .form-group.has-feedback(ng-class="{'has-error': userForm.account.$invalid && userForm.account.$dirty, 'has-success': userForm.account.$valid && userForm.account.$dirty}")
          label(for='account') 邮箱或者手机号
          input.form-control(name='account', type='text', ng-model='user.account', email-or-mobile, required)
          span.glyphicon.form-control-feedback(ng-class="{'glyphicon-ok': userForm.account.$valid && userForm.account.$dirty, 'glyphicon-remove': userForm.account.$invalid && userForm.account.$dirty}")
          p.help-block {{userForm.account.$error}}
          p.help-block(ng-show="userForm.account.$dirty && userForm.account.$error.required") 请输入账号
          p.help-block(ng-show="userForm.account.$dirty && userForm.account.$error.emailOrMobile") 请输入正确的手机号或者Email

        button(type='submit', ng-disabled='userForm.$invalid').btn.btn-default 提交
        button(type='reset', ng-click="resetForm(userForm);").btn.btn-default 重置